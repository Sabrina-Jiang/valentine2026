<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MISSION: RECOVER TOMORROW</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet">
</head>
<body>
    <div class="grain-overlay"></div>
    <audio id="bg-music" loop preload="auto" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-17.mp3"></audio>

    <main id="game-viewport">
        <section id="intro-module" class="stage-visible">
            <div id="envelope-view" class="envelope">
                <div class="wax-seal"></div>
                <div class="envelope-label">
                    <span class="top-secret">TOP SECRET</span>
                    <span class="case-no">CASE NO. 0214-2026</span>
                </div>
                <p class="click-hint">CLICK TO OPEN</p>
            </div>

            <div id="dossier-view" class="hidden">
                <div id="briefing-text" class="typewriter-container"></div>
                <div id="auth-zone" class="auth-hidden">
                    <div id="fingerprint-btn">
                        <svg class="finger-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M12 11c0-1.1.9-2 2-2s2 .9 2 2M12 7c0-2.8 2.2-5 5-5s5 2.2 5 5M12 22V12M8 12c0-2.2 1.8-4 4-4s4 1.8 4 4"/>
                        </svg>
                        <svg class="progress-svg"><circle id="progress-ring" cx="40" cy="40" r="38"></circle></svg>
                    </div>
                    <p id="auth-status">HOLD TO AUTHENTICATE</p>
                </div>
            </div>
        </section>

        <section id="phase-1" class="stage-hidden">
            <div class="mission-header"><h3>PHASE 01</h3><p>09:00 - THE CORE BREATH</p></div>
            <div id="clock-container">
                <div id="time-ring"><div id="marker-9"></div><div id="hour-hand-p1"></div></div>
                <div id="breath-core" class="hidden"></div>
            </div>
            <div class="controls-container">
                <input type="range" id="time-slider" min="0" max="359" value="0">
                <p class="instr" id="p1-instr">Set the time to 9:00</p>
            </div>
        </section>

        <section id="phase-2" class="stage-hidden">
            <div class="mission-header"><h3>PHASE 02</h3><p>10:30 - BRUNCH</p></div>
            <div class="photo-frame"><img id="diner-img" src="https://images.unsplash.com/photo-1514933651103-005eec06c04b?q=80&w=1000"></div>
            <div class="cup-row">
                <span class="cup big-cup">☕</span><span class="cup big-cup">☕</span><span class="cup big-cup">☕</span>
            </div>
            <div id="diner-puzzle" class="hidden">
                <div class="word-slots" id="slots"></div>
                <div class="letter-pool" id="pool"></div>
            </div>
        </section>

        <section id="phase-3" class="stage-hidden">
            <div class="mission-header"><h3>PHASE 03</h3><p>12:00 - THE SILENT GUARDIANS</p></div>
            <div class="bpl-box">
                <p class="clue-text">"Guarded by two _____ that never sleep."</p>
                <input type="text" id="bpl-input" placeholder="DECODE..." autocomplete="off">
                <button id="bpl-btn">VERIFY IDENTITY</button>
            </div>
        </section>

        <section id="phase-4" class="stage-hidden">
            <div class="mission-header"><h3>PHASE 04</h3><p>15:00 - WATERFRONT REVEAL</p></div>
            <div id="canvas-container">
                <canvas id="ica-canvas"></canvas>
                <img id="ica-bg" src="https://images.unsplash.com/photo-1522156373667-4c7234bbd804?q=80&w=1000">
            </div>
            <p class="instr">Wipe away the mist</p>
        </section>

        <section id="phase-5" class="stage-hidden final-log">
            <div id="final-timeline">
                <p class="time-item"><span>09:00</span> – Pilates</p>
                <p class="time-item"><span>10:30</span> – Deluxe Town Diner</p>
                <p class="time-item"><span>12:00</span> – Boston Public Library</p>
                <p class="time-item"><span>15:00</span> – ICA</p>
                <p class="time-item"><span>20:00</span> – Basque Cheesecake</p>
            </div>
            <div id="love-note">
                <p class="decrypt-msg">You decrypted tomorrow.</p>
                <p class="designer-msg">I designed it for you.</p>
                <p class="designer-msg">Love you, Sabrina.</p>
            </div>
        </section>
    </main>
    <script src="script.js"></script>
</body>
</html>